# ==========================================
# PRODUCTION ENVIRONMENT CONFIGURATION TEMPLATE
# ==========================================
# Copy this file to .env and fill in your actual production values
# NEVER commit the actual .env file to version control

# Database Configuration
# Use a strong password and secure connection string for production
# Connection pool parameters (CRITICAL for preventing 504 timeouts):
#   - connection_limit: Maximum database connections per app instance (default: 50-80)
#   - pool_timeout: Seconds to wait for available connection (default: 30)
#   - connect_timeout: Seconds to establish new connection (default: 15)
#   - statement_cache_size: Prepared statement cache size (default: 100)
# For cloud databases, enable SSL: ?sslmode=require
DATABASE_URL="postgresql://your_db_user:your_secure_db_password@your_db_host:5432/jcb_production?schema=public&connection_limit=80&pool_timeout=30&connect_timeout=15&statement_cache_size=100&sslmode=require"

# PostgreSQL Database Credentials (for docker-compose)
POSTGRES_USER=your_db_user
POSTGRES_PASSWORD=your_secure_db_password
POSTGRES_DB=jcb_production

# Server Configuration
PORT=4001
NODE_ENV=production

# JWT Secret for Authentication
# CRITICAL: Generate a strong random secret (minimum 64 characters)
# Generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=GENERATE_A_SECURE_RANDOM_SECRET_MINIMUM_64_CHARACTERS_LONG

# Frontend URL (Your production domain - must match CORS settings)
# Examples: https://your-domain.com or https://app.your-domain.com
FRONTEND_URL=https://your-production-domain.com

# Email Configuration (Required for password reset functionality)
# For Gmail: Enable 2FA and create App Password
# Guide: https://support.google.com/accounts/answer/185833
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-16-character-app-password
SMTP_FROM="S.P. TRADERS AND BUILDERS <your-email@gmail.com>"
EMAIL_SERVICE=gmail

# Optional: Rate Limiting (requests per minute per IP)
RATE_LIMIT_MAX=100

# Optional: Session Timeout (in milliseconds, default: 24 hours)
SESSION_TIMEOUT=86400000

# Optional: Enable/Disable Features
ENABLE_REGISTRATION=false
ENABLE_API_DOCS=false
